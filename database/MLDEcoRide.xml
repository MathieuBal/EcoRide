<?xml version="1.0" encoding="iso-8859-1"?>

<Database>
   <Name>Looping1</Name>
   <Table>
      <Name>Utilisateur</Name>
      <Column>
         <Name>Id_Utilisateur</Name>
         <Type>COUNTER</Type>
      </Column>
      <Column>
         <Name>nom</Name>
         <Type>VARCHAR(50)</Type>
         <Property>NOT NULL</Property>
      </Column>
      <Column>
         <Name>prenom</Name>
         <Type>VARCHAR(50)</Type>
         <Property>NOT NULL</Property>
      </Column>
      <Column>
         <Name>email</Name>
         <Type>VARCHAR(100)</Type>
         <Property>NOT NULL</Property>
      </Column>
      <Column>
         <Name>password</Name>
         <Type>VARCHAR(255)</Type>
         <Property>NOT NULL</Property>
      </Column>
      <Column>
         <Name>date_naissance</Name>
         <Type>DATE</Type>
         <Property>NOT NULL</Property>
      </Column>
      <Column>
         <Name>photo_url</Name>
         <Type>VARCHAR(255)</Type>
      </Column>
      <Column>
         <Name>pseudo</Name>
         <Type>VARCHAR(50)</Type>
         <Property>NOT NULL</Property>
      </Column>
      <Column>
         <Name>credit</Name>
         <Type>VARCHAR(50)</Type>
         <Property>NOT NULL</Property>
      </Column>
      <PK>
         <Key>Id_Utilisateur</Key>
      </PK>
   </Table>
   <Table>
      <Name>Adresse</Name>
      <Column>
         <Name>Id_Adresse</Name>
         <Type>COUNTER</Type>
      </Column>
      <Column>
         <Name>rue</Name>
         <Type>VARCHAR(100)</Type>
      </Column>
      <Column>
         <Name>ville</Name>
         <Type>VARCHAR(50)</Type>
      </Column>
      <Column>
         <Name>code_postal</Name>
         <Type>VARCHAR(10)</Type>
      </Column>
      <Column>
         <Name>pays</Name>
         <Type>VARCHAR(50)</Type>
      </Column>
      <PK>
         <Key>Id_Adresse</Key>
      </PK>
   </Table>
   <Table>
      <Name>energie</Name>
      <Column>
         <Name>Id_energie</Name>
         <Type>COUNTER</Type>
      </Column>
      <Column>
         <Name>libelle_energie</Name>
         <Type>VARCHAR(50)</Type>
         <Property>NOT NULL</Property>
      </Column>
      <PK>
         <Key>Id_energie</Key>
      </PK>
   </Table>
   <Table>
      <Name>statut_cov</Name>
      <Column>
         <Name>Id_statut_cov</Name>
         <Type>COUNTER</Type>
      </Column>
      <Column>
         <Name>libelle_statut_cov</Name>
         <Type>VARCHAR(50)</Type>
         <Property>NOT NULL</Property>
      </Column>
      <PK>
         <Key>Id_statut_cov</Key>
      </PK>
   </Table>
   <Table>
      <Name>statut_avis</Name>
      <Column>
         <Name>Id_statut_avis</Name>
         <Type>COUNTER</Type>
      </Column>
      <Column>
         <Name>libelle_statut_avis</Name>
         <Type>VARCHAR(50)</Type>
         <Property>NOT NULL</Property>
      </Column>
      <PK>
         <Key>Id_statut_avis</Key>
      </PK>
   </Table>
   <Table>
      <Name>marque</Name>
      <Column>
         <Name>Id_marque</Name>
         <Type>COUNTER</Type>
      </Column>
      <Column>
         <Name>libelle_marque</Name>
         <Type>VARCHAR(50)</Type>
         <Property>NOT NULL</Property>
      </Column>
      <PK>
         <Key>Id_marque</Key>
      </PK>
   </Table>
   <Table>
      <Name>role</Name>
      <Column>
         <Name>Id_role</Name>
         <Type>COUNTER</Type>
      </Column>
      <Column>
         <Name>libelle_role</Name>
         <Type>VARCHAR(50)</Type>
         <Property>NOT NULL</Property>
      </Column>
      <PK>
         <Key>Id_role</Key>
      </PK>
   </Table>
   <Table>
      <Name>Configuration</Name>
      <Column>
         <Name>Id_Configuration</Name>
         <Type>COUNTER</Type>
      </Column>
      <Column>
         <Name>Id_Utilisateur</Name>
         <Type>COUNTER</Type>
         <Property>NOT NULL</Property>
      </Column>
      <PK>
         <Key>Id_Configuration</Key>
      </PK>
      <FK>
         <Key>Id_Utilisateur</Key>
         <Reference>Utilisateur(Id_Utilisateur)</Reference>
      </FK>
   </Table>
   <Table>
      <Name>voiture</Name>
      <Column>
         <Name>Id_voiture</Name>
         <Type>COUNTER</Type>
      </Column>
      <Column>
         <Name>modele</Name>
         <Type>VARCHAR(50)</Type>
         <Property>NOT NULL</Property>
      </Column>
      <Column>
         <Name>immatriculation</Name>
         <Type>VARCHAR(9)</Type>
         <Property>NOT NULL UNIQUE</Property>
      </Column>
      <Column>
         <Name>couleur</Name>
         <Type>VARCHAR(50)</Type>
         <Property>NOT NULL</Property>
      </Column>
      <Column>
         <Name>date_premiere_immatriculation</Name>
         <Type>DATE</Type>
         <Property>NOT NULL</Property>
      </Column>
      <Column>
         <Name>Id_marque</Name>
         <Type>COUNTER</Type>
         <Property>NOT NULL</Property>
      </Column>
      <Column>
         <Name>Id_energie</Name>
         <Type>COUNTER</Type>
         <Property>NOT NULL</Property>
      </Column>
      <PK>
         <Key>Id_voiture</Key>
      </PK>
      <AK>
         <Key>immatriculation</Key>
      </AK>
      <FK>
         <Key>Id_marque</Key>
         <Reference>marque(Id_marque)</Reference>
      </FK>
      <FK>
         <Key>Id_energie</Key>
         <Reference>energie(Id_energie)</Reference>
      </FK>
   </Table>
   <Table>
      <Name>covoiturage</Name>
      <Column>
         <Name>Id_covoiturage</Name>
         <Type>COUNTER</Type>
      </Column>
      <Column>
         <Name>date_depart</Name>
         <Type>DATE</Type>
         <Property>NOT NULL</Property>
      </Column>
      <Column>
         <Name>heure_depart</Name>
         <Type>TIME</Type>
         <Property>NOT NULL</Property>
      </Column>
      <Column>
         <Name>lieu_depart</Name>
         <Type>VARCHAR(100)</Type>
         <Property>NOT NULL</Property>
      </Column>
      <Column>
         <Name>lieu_arrivee</Name>
         <Type>VARCHAR(100)</Type>
         <Property>NOT NULL</Property>
      </Column>
      <Column>
         <Name>prix_par_personne</Name>
         <Type>DECIMAL(10,2)</Type>
         <Property>NOT NULL</Property>
      </Column>
      <Column>
         <Name>nb_places</Name>
         <Type>INT</Type>
         <Property>NOT NULL</Property>
      </Column>
      <Column>
         <Name>Id_voiture</Name>
         <Type>COUNTER</Type>
         <Property>NOT NULL</Property>
      </Column>
      <Column>
         <Name>Id_statut_cov</Name>
         <Type>COUNTER</Type>
         <Property>NOT NULL</Property>
      </Column>
      <PK>
         <Key>Id_covoiturage</Key>
      </PK>
      <FK>
         <Key>Id_voiture</Key>
         <Reference>voiture(Id_voiture)</Reference>
      </FK>
      <FK>
         <Key>Id_statut_cov</Key>
         <Reference>statut_cov(Id_statut_cov)</Reference>
      </FK>
   </Table>
   <Table>
      <Name>Avis</Name>
      <Column>
         <Name>Id_Avis</Name>
         <Type>COUNTER</Type>
      </Column>
      <Column>
         <Name>commentaire</Name>
         <Type>TEXT</Type>
      </Column>
      <Column>
         <Name>note</Name>
         <Type>INT</Type>
         <Comment>CONSTRAINT note CHECK (note BETWEEN 1 AND 5)</Comment>
      </Column>
      <Column>
         <Name>Id_covoiturage</Name>
         <Type>COUNTER</Type>
         <Property>NOT NULL</Property>
      </Column>
      <Column>
         <Name>Id_Utilisateur</Name>
         <Type>COUNTER</Type>
         <Property>NOT NULL</Property>
      </Column>
      <Column>
         <Name>Id_statut_avis</Name>
         <Type>COUNTER</Type>
         <Property>NOT NULL</Property>
      </Column>
      <PK>
         <Key>Id_Avis</Key>
      </PK>
      <FK>
         <Key>Id_covoiturage</Key>
         <Reference>covoiturage(Id_covoiturage)</Reference>
      </FK>
      <FK>
         <Key>Id_Utilisateur</Key>
         <Reference>Utilisateur(Id_Utilisateur)</Reference>
      </FK>
      <FK>
         <Key>Id_statut_avis</Key>
         <Reference>statut_avis(Id_statut_avis)</Reference>
      </FK>
   </Table>
   <Table>
      <Name>parametre</Name>
      <Column>
         <Name>Id_parametre</Name>
         <Type>COUNTER</Type>
      </Column>
      <Column>
         <Name>propriete</Name>
         <Type>VARCHAR(50)</Type>
         <Property>NOT NULL</Property>
      </Column>
      <Column>
         <Name>valeur</Name>
         <Type>VARCHAR(50)</Type>
         <Property>NOT NULL</Property>
      </Column>
      <Column>
         <Name>Id_Configuration</Name>
         <Type>COUNTER</Type>
         <Property>NOT NULL</Property>
      </Column>
      <PK>
         <Key>Id_parametre</Key>
      </PK>
      <FK>
         <Key>Id_Configuration</Key>
         <Reference>Configuration(Id_Configuration)</Reference>
      </FK>
   </Table>
   <Table>
      <Name>R&#233;side</Name>
      <Column>
         <Name>Id_Utilisateur</Name>
         <Type>COUNTER</Type>
      </Column>
      <Column>
         <Name>Id_Adresse</Name>
         <Type>COUNTER</Type>
      </Column>
      <PK>
         <Key>Id_Utilisateur, Id_Adresse</Key>
      </PK>
      <FK>
         <Key>Id_Utilisateur</Key>
         <Reference>Utilisateur(Id_Utilisateur)</Reference>
      </FK>
      <FK>
         <Key>Id_Adresse</Key>
         <Reference>Adresse(Id_Adresse)</Reference>
      </FK>
   </Table>
   <Table>
      <Name>participe</Name>
      <Column>
         <Name>Id_Utilisateur</Name>
         <Type>COUNTER</Type>
      </Column>
      <Column>
         <Name>Id_covoiturage</Name>
         <Type>COUNTER</Type>
      </Column>
      <PK>
         <Key>Id_Utilisateur, Id_covoiturage</Key>
      </PK>
      <FK>
         <Key>Id_Utilisateur</Key>
         <Reference>Utilisateur(Id_Utilisateur)</Reference>
      </FK>
      <FK>
         <Key>Id_covoiturage</Key>
         <Reference>covoiturage(Id_covoiturage)</Reference>
      </FK>
   </Table>
   <Table>
      <Name>possede</Name>
      <Column>
         <Name>Id_Utilisateur</Name>
         <Type>COUNTER</Type>
      </Column>
      <Column>
         <Name>Id_role</Name>
         <Type>COUNTER</Type>
      </Column>
      <PK>
         <Key>Id_Utilisateur, Id_role</Key>
      </PK>
      <FK>
         <Key>Id_Utilisateur</Key>
         <Reference>Utilisateur(Id_Utilisateur)</Reference>
      </FK>
      <FK>
         <Key>Id_role</Key>
         <Reference>role(Id_role)</Reference>
      </FK>
   </Table>
   <Table>
      <Name>gere</Name>
      <Column>
         <Name>Id_Utilisateur</Name>
         <Type>COUNTER</Type>
      </Column>
      <Column>
         <Name>Id_voiture</Name>
         <Type>COUNTER</Type>
      </Column>
      <PK>
         <Key>Id_Utilisateur, Id_voiture</Key>
      </PK>
      <FK>
         <Key>Id_Utilisateur</Key>
         <Reference>Utilisateur(Id_Utilisateur)</Reference>
      </FK>
      <FK>
         <Key>Id_voiture</Key>
         <Reference>voiture(Id_voiture)</Reference>
      </FK>
   </Table>
</Database>
